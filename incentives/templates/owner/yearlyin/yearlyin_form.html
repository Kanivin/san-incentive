{% extends 'layouts/layout.html' %}
{% load static %}
{% load form_filters %}

{% block content %}

<div class="card mb-4 shadow-sm">
  <div class="card-body py-2 px-3">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb mb-0">
        <li class="breadcrumb-item">
          <a href="{% url 'admin_dashboard' %}" class="text-decoration-none text-primary">
            <i class="bi bi-house-door-fill me-1"></i> Home
          </a>
        </li>
        <li class="breadcrumb-item">
          <a href="{% url 'yearlyin_list' %}" class="text-decoration-none text-primary">
            <i class="bi bi-gift  me-1"></i> Yearly Incentives
          </a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">
          <i class="bi bi-gift me-1"></i> {{ title }}
        </li>
      </ol>
    </nav>
  </div>
</div>
<div class="col-lg-12">
  <div class="card">
    <div class="px-4 py-3 border-bottom">
      <h4 class="card-title mb-0">{{ title }}</h4>
    </div>
    <div class="card-body">
      <form method="post" novalidate>
        {% csrf_token %}

        {% load static %}
        <fieldset class="border p-3 rounded mb-4">
        <div class="mb-3 row align-items-center">
          <label class="col-sm-3 col-form-label">Financial Year</label>
          <div class="col-sm-9">
            <select id="financial-year" name="financial_year" class="form-control">
              {% for year in financial_years %}
              <option value="{{ year }}" {% if year == selected_financial_year %}selected{% endif %}>{{ year }}</option>
            {% endfor %}
            </select>
          </div>
        </div>
       </fieldset>
        <fieldset class="border p-3 rounded mb-4">
          <legend class="w-auto px-2 text-primary">Annual Target Achievement</legend>
        
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="minimum_benchmark" checked>
            <label class="form-check-label" for="minimum_benchmark">
              Minimum benchmark for annual incentive is 75% target achievement
            </label>
          </div>
        
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="enable_75_90_achievement" checked>
            <label class="form-check-label" for="enable_75_90_achievement">
              Enable incentive for 75%–89.99% achievement (1 month Gross Salary)
            </label>
          </div>
        
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="enable_90_95_achievement" checked>
            <label class="form-check-label" for="enable_90_95_achievement">
              Enable incentive for 90%–94.99% achievement (125% of 1 month Gross Salary)
            </label>
          </div>
        
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="enable_95_100_achievement" checked>
            <label class="form-check-label" for="enable_95_100_achievement">
              Enable incentive for 95%–99.99% achievement (150% of 1 month Gross Salary)
            </label>
          </div>
        
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="enable_above100_achievement" checked>
            <label class="form-check-label" for="enable_above100_achievement">
              Enable incentive for 100% and above achievement (200% or 2 months Gross Salary)
            </label>
          </div>
        </fieldset>
        
        
        <fieldset class="border p-3 rounded mb-4">
          <legend class="w-auto px-2 text-primary">Subscription Incentive (on Collection)</legend>
        
          <p class="text-muted mb-3">
            Incentive depends on annual target achievement. 
          </p>
          <div class="row mb-3">
            <label class="col-sm-4 col-form-label">Minimum Subscription of Months</label>
            <div class="col-sm-8">
              <select name="min_subscription_month" class="form-control" required>
                <option value="">-- Select Months --</option>
                {% for month in months %}
                  <option value="{{ month }}" {% if form.min_subscription_month.value == month|stringformat:"s" %}selected{% endif %}>{{ month }}</option>
                {% endfor %}
              </select>
            </div>
          </div>
          
          <div class="row mb-3">
            <label class="col-sm-4 col-form-label">100% & above Target Achievement %</label>
            <div class="col-sm-8"><input type="number" name="100_per_target" value="{{ form.100_per_target.value }}" class="form-control" placeholder="e.g., 10" /></div>
          </div>
         
          <div class="row mb-3">
            <label class="col-sm-4 col-form-label">75%–99.9% Target Achievement %</label>
            <div class="col-sm-8"><input type="number" name="75_per_target" value="{{ form.75_per_target.value }}" class="form-control" placeholder="e.g., 10" /></div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-4 col-form-label">50%–74.9% Target Achievement %</label>
            <div class="col-sm-8"><input type="number" name="50_per_target" value="{{ form.50_per_target.value }}" class="form-control" placeholder="e.g., 10" /></div>
          </div>
          <div class="row mb-3">
            <label class="col-sm-4 col-form-label">Below 50% Target Achievement %</label>
            <div class="col-sm-8"><input type="number" name="49_per_target" value="{{ form.49_per_target.value }}" class="form-control" placeholder="e.g., 10" /></div>
          </div>
          

 
        </fieldset>
        
        
        <fieldset class="border p-3 rounded mb-4">
          <legend class="w-auto px-2 text-primary">Best Performer of the Year</legend>
        
          <p class="text-muted mb-3">
            Employees who achieve 100% and above are recognized as stars and may receive surprise gifts. Top 2 among them will be awarded additional surprises.
          </p>
        
          <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" id="enable_topper_1" checked>
            <label class="form-check-label" for="enable_topper_1">
              Surprise Gift for Top Performer 1
            </label>
          </div>
        
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="enable_topper_2" checked>
            <label class="form-check-label" for="enable_topper_2">
              Surprise Gift for Top Performer 2
            </label>
          </div>
        </fieldset>
        
        
        <fieldset class="border p-3 rounded mb-4">
          <legend class="w-auto px-2 text-primary">Best Team Leader of the Year</legend>
        
          <p class="text-muted mb-3">
            Recognizing the Best Manager and Team Leader with surprise gifts and awards.
          </p>
        
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="enable_leader_1" checked>
            <label class="form-check-label" for="enable_leader_1">
              Award for Best Team Leader (Surprise Gift)
            </label>
          </div>
        </fieldset>
        

        <!-- Submit Buttons -->
        <div class="row mb-4">
          <div class="col-sm-3"></div>
          <div class="col-sm-9">
            <button type="submit" class="btn btn-custom me-2">Submit</button>
            <a href="{% url 'target_list' %}" class="btn btn-danger">Cancel</a>
          </div>
        </div>

      
      </form>
    </div>
  </div>
</div>
{% block extra_js %}
<script>
  $(document).ready(function() {
    // Apply Select2 to all select elements
    $('select').select2({
      width: '100%',
      placeholder: "Select an option",
      allowClear: true
    });
  });
</script>
{% endblock %}

{% endblock %}
